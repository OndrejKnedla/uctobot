(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{966:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(5155),n=t(2115),r=t(7168),i=t(8482),d=t(8145),l=t(4964),c=t(3904),o=t(7550),x=t(6308),u=t(3786),m=t(7580),h=t(5868),v=t(3109),f=t(8500),j=t(2657);function g(){let[e,s]=(0,n.useState)(null),[t,g]=(0,n.useState)(null),[p,b]=(0,n.useState)(null),[N,y]=(0,n.useState)(!0),[w,k]=(0,n.useState)(null),[_,Z]=(0,n.useState)(new Date),A=async()=>{try{y(!0),k(null);let[e,t,a]=await Promise.all([fetch("http://localhost:8000/api/demo"),fetch("http://localhost:8000/api/users/stats"),fetch("http://localhost:8000/api/transactions/stats")]);if(!e.ok||!t.ok||!a.ok)throw Error("Chyba při nač\xedt\xe1n\xed dat z API");let[n,r,i]=await Promise.all([e.json(),t.json(),a.json()]);s(n),g(r),b(i),Z(new Date)}catch(e){console.error("Chyba při nač\xedt\xe1n\xed dat:",e),k("Nepodařilo se nač\xedst data z API. Zkuste to znovu.")}finally{y(!1)}};(0,n.useEffect)(()=>{A()},[]);let z=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),C=e=>new Date(e).toLocaleDateString("cs-CZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),P=e=>{let s={active:"bg-green-100 text-green-800",trial:"bg-yellow-100 text-yellow-800",inactive:"bg-gray-100 text-gray-800"};return(0,a.jsx)(d.E,{className:s[e.toLowerCase()]||s.inactive,children:{active:"Aktivn\xed",trial:"Zkušebn\xed",inactive:"Neaktivn\xed"}[e.toLowerCase()]||e})};return N&&!e?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Nač\xedt\xe1m data z API..."})]})}):w?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center max-w-md",children:[(0,a.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Chyba při nač\xedt\xe1n\xed dat"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:w}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(r.$,{onClick:A,className:"w-full",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Zkusit znovu"]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>window.location.href="/",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Zpět na hlavn\xed str\xe1nku"]})]})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"border-b bg-card",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"\xdačetn\xedBot Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Přehled dat z nov\xe9 datab\xe1ze • API v2.0.0"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right text-sm text-muted-foreground",children:[(0,a.jsx)("div",{children:"Posledn\xed aktualizace:"}),(0,a.jsx)("div",{children:C(_.toISOString())})]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:A,disabled:N,children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2 ".concat(N?"animate-spin":"")}),"Obnovit"]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>window.location.href="/transactions",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Transakce"]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>window.open("http://localhost:8000/docs","_blank"),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"API Docs"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Celkem uživatelů"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==t?void 0:t.total_users)||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Aktivn\xed: ",(null==t?void 0:t.active_users)||0,", Zkušebn\xed: ",(null==t?void 0:t.trial_users)||0]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Celkem transakc\xed"}),(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==p?void 0:p.total_transactions)||0}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Tento měs\xedc: ",(null==p?void 0:p.current_month_transactions)||0]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Celkov\xfd obrat"}),(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:z(((null==p?void 0:p.total_income)||0)+((null==p?void 0:p.total_expenses)||0))}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1 text-green-500"}),"Př\xedjmy: ",z((null==p?void 0:p.total_income)||0)]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ZB,{className:"text-sm font-medium",children:"Zisk"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(((null==p?void 0:p.profit)||0)>=0?"text-green-600":"text-red-600"),children:z((null==p?void 0:p.profit)||0)}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,a.jsx)(f.A,{className:"h-3 w-3 mr-1 text-red-500"}),"V\xfddaje: ",z((null==p?void 0:p.total_expenses)||0)]})]})]})]}),(0,a.jsxs)(l.tU,{defaultValue:"transactions",className:"space-y-6",children:[(0,a.jsxs)(l.j7,{children:[(0,a.jsx)(l.Xi,{value:"transactions",children:"Posledn\xed transakce"}),(0,a.jsx)(l.Xi,{value:"users",children:"Uživatel\xe9"}),(0,a.jsx)(l.Xi,{value:"api",children:"API Info"})]}),(0,a.jsx)(l.av,{value:"transactions",className:"space-y-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Posledn\xed transakce"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==e?void 0:e.recent_transactions.length)||0," nejnovějš\xedch z\xe1znamů z datab\xe1ze"]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:null==e?void 0:e.recent_transactions.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("income"===e.type?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.description}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.user_name&&"".concat(e.user_name," • "),e.counterparty_name&&"".concat(e.counterparty_name," • "),C(e.created_at)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold ".concat("income"===e.type?"text-green-600":"text-red-600"),children:["income"===e.type?"+":"-",z(e.amount)]}),(0,a.jsx)(d.E,{variant:"income"===e.type?"default":"secondary",children:"income"===e.type?"Př\xedjem":"V\xfddaj"})]})]},e.id))})})]})}),(0,a.jsx)(l.av,{value:"users",className:"space-y-6",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"Demo uživatel\xe9"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(null==e?void 0:e.demo_users.length)||0," uživatelů v datab\xe1zi"]})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:null==e?void 0:e.demo_users.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:(null===(s=e.full_name)||void 0===s?void 0:s.charAt(0))||(null===(t=e.business_name)||void 0===t?void 0:t.charAt(0))||"U"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.full_name}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.business_name," • ",e.total_transactions," transakc\xed"]})]})]}),(0,a.jsxs)("div",{className:"text-right space-y-2",children:[(0,a.jsx)("div",{children:P(e.subscription_status)}),(0,a.jsx)("div",{className:"text-sm font-medium",children:z(e.current_year_revenue)})]})]},e.id)})})})]})}),(0,a.jsx)(l.av,{value:"api",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"API Endpointy"})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Z\xe1kladn\xed endpointy:"}),(0,a.jsxs)("div",{className:"text-sm space-y-1 font-mono",children:[(0,a.jsx)("div",{children:"GET /api/demo"}),(0,a.jsx)("div",{children:"GET /api/users/stats"}),(0,a.jsx)("div",{children:"GET /api/transactions/stats"}),(0,a.jsx)("div",{children:"GET /api/users"}),(0,a.jsx)("div",{children:"GET /api/transactions"}),(0,a.jsx)("div",{children:"POST /api/transactions"})]})]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>window.open("http://localhost:8000/docs","_blank"),className:"w-full",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Otevř\xedt API dokumentaci"]})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Backend Status"})}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Backend URL:"}),(0,a.jsx)("div",{className:"font-mono",children:"localhost:8000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"API verze:"}),(0,a.jsx)("div",{className:"font-mono",children:"v2.0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Datab\xe1ze:"}),(0,a.jsx)("div",{className:"font-mono",children:"SQLite"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:"Status:"}),(0,a.jsx)("div",{className:"text-green-600 font-medium",children:"✅ Běž\xed"})]})]}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>window.open("http://localhost:8000/health","_blank"),className:"w-full",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Zkontrolovat health endpoint"]})]})]})]})})]})]})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),n=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.QP)((0,a.$)(s))}},4964:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>l,av:()=>c,j7:()=>d,tU:()=>i});var a=t(5155);t(2115);var n=t(64),r=t(3999);function i(e){let{className:s,...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>l,r:()=>d});var a=t(5155);t(2115);var n=t(9708),r=t(2085),i=t(3999);let d=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:t,size:r,asChild:l=!1,...c}=e,o=l?n.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,i.cn)(d({variant:t,size:r,className:s})),...c})}},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(5155);t(2115);var n=t(9708),r=t(2085),i=t(3999);let d=(0,r.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,asChild:r=!1,...l}=e,c=r?n.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(d({variant:t}),s),...l})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>r,aR:()=>i,wL:()=>o});var a=t(5155);t(2115);var n=t(3999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}},8650:(e,s,t)=>{Promise.resolve().then(t.bind(t,966))}},e=>{var s=s=>e(e.s=s);e.O(0,[455,688,441,684,358],()=>s(8650)),_N_E=e.O()}]);